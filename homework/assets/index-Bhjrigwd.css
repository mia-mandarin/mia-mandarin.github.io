@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap";:root{--primary: #6366f1;--primary-hover: #4f46e5;--secondary: #0d9488;--bg-main: #f8fafc;--bg-card: #ffffff;--text-main: #1e293b;--text-muted: #64748b;--border-color: #e2e8f0;--radius-lg: 12px;--radius-md: 8px;--shadow-sm: 0 1px 3px rgba(0, 0, 0, .1);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--hsk1: #4ade80;--hsk2: #facc15;--hsk3: #fb923c;--hsk4: #f87171;--hsk5: #c084fc;--hsk6: #60a5fa;font-family:Inter,system-ui,-apple-system,sans-serif;line-height:1.6;font-weight:400;color:var(--text-main);background-color:var(--bg-main);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{margin:0;min-height:100vh;display:block}h1,h2,h3,h4{font-family:Outfit,sans-serif;color:var(--text-main);margin-top:0}button{font-family:Inter,sans-serif;font-weight:500;padding:.6em 1.2em;border-radius:var(--radius-md);border:1px solid transparent;cursor:pointer;transition:all .2s ease}button.primary{background-color:var(--primary);color:#fff}button.primary:hover{background-color:var(--primary-hover);transform:translateY(-1px);box-shadow:var(--shadow-md)}button.secondary{background-color:var(--bg-card);border-color:var(--border-color);color:var(--text-main)}button.secondary:hover{border-color:var(--primary);color:var(--primary)}input:not([type=checkbox]):not([type=radio]),select,textarea{font-family:Inter,sans-serif;padding:.6em .8em;border-radius:var(--radius-md);border:1px solid var(--border-color);background-color:#fff;transition:border-color .2s;width:100%;box-sizing:border-box}input:focus,select:focus,textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #6366f11a}.card{background:var(--bg-card);border-radius:var(--radius-lg);padding:1.5rem;box-shadow:var(--shadow-sm);border:1px solid var(--border-color)}@media(prefers-color-scheme:dark){:root{--bg-main: #0f172a;--bg-card: #1e293b;--text-main: #f1f5f9;--text-muted: #94a3b8;--border-color: #334155;--shadow-sm: 0 1px 3px rgba(0, 0, 0, .3)}input,select,textarea{background-color:#0f172a;color:#f1f5f9}}.app-container{display:flex;flex-direction:column;height:100vh;max-width:1440px;margin:0 auto;overflow:hidden}.app-header{height:64px;background:var(--bg-card);border-bottom:1px solid var(--border-color);padding:0 2rem;display:flex;align-items:center;justify-content:space-between;flex-shrink:0;z-index:100}.app-body{display:flex;flex:1;overflow:hidden}main{flex:1;background-color:var(--bg-main);overflow-y:auto}.app-header .nav-modes{display:flex;gap:1rem;height:100%;align-items:center}.app-header .nav-modes button{background:transparent;color:var(--text-muted);font-weight:500;padding:.5rem 1rem;border-radius:var(--radius-md);transition:all .2s;font-size:.95rem}.app-header .nav-modes button:hover{background:var(--bg-main);color:var(--text-main)}.app-header .nav-modes button.active{background:#6366f11a;color:var(--primary)}.content-wrapper{padding:2rem 3rem;max-width:1000px;margin:0 auto}.logo h1{font-size:1.25rem;color:var(--primary);margin:0;display:flex;align-items:center;gap:.5rem}.logo h1:before{content:"üìù"}@media(max-width:768px){.app-container{flex-direction:column}.content-wrapper{padding:1rem}}.vocab-manager{display:flex;flex-direction:column;gap:2rem}.header-info{display:flex;justify-content:space-between;align-items:center;background:var(--bg-card);padding:1.5rem 2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--border-color)}.header-info h2{margin:0;font-size:1.5rem;color:#2c3e50;cursor:pointer;padding:4px 8px;border-radius:4px;transition:background .2s}.header-info h2:hover{background:#f8f9fa}.edit-icon{font-size:1rem;color:#95a5a6;margin-left:8px;opacity:0;transition:opacity .2s}.header-info h2:hover .edit-icon{opacity:1}.text-btn{background:none;border:none;color:var(--primary);cursor:pointer;font-size:.9rem;font-weight:600;padding:8px 16px;border-radius:6px;transition:all .2s;align-self:flex-end;margin-bottom:3px}.text-btn:hover{background:#6366f10d}.text-btn.save{background:var(--primary);color:#fff;box-shadow:var(--shadow-sm)}.text-btn.save:hover{background:var(--primary-hover);transform:translateY(-1px);box-shadow:var(--shadow-md)}.input-section{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.input-card{background:var(--bg-card);border-radius:var(--radius-lg);padding:1.5rem;box-shadow:var(--shadow-sm);border:1px solid var(--border-color);display:flex;flex-direction:column;gap:1rem}.input-card h3{font-size:1.1rem;margin-bottom:.5rem;color:var(--primary)}.input-card h4{font-size:.9rem;color:var(--text-muted);margin-bottom:.25rem}.input-card textarea{resize:vertical;min-height:120px}.upload-card{position:relative;border:2px dashed var(--border-color);transition:all .2s;justify-content:center;align-items:center;text-align:center}.upload-card.dragging{border-color:var(--primary);background:#6366f10d}.pending-files{display:flex;flex-wrap:wrap;gap:.5rem;margin:.5rem 0;justify-content:center}.file-badge{background:var(--bg-main);padding:.2rem .6rem;border-radius:4px;font-size:.8rem;border:1px solid var(--border-color)}.clear-btn{background:transparent;border:none;color:var(--text-muted);cursor:pointer;font-size:1rem}.vocab-list-section{background:var(--bg-card);border-radius:var(--radius-lg);padding:1.5rem;box-shadow:var(--shadow-sm);border:1px solid var(--border-color)}.list-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.vocab-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin:1.5rem 0}.vocab-item{background:var(--bg-main);padding:1.25rem;border-radius:var(--radius-md);border:1px solid var(--border-color);display:flex;flex-direction:column;gap:.5rem;position:relative;transition:transform .2s,box-shadow .2s}.vocab-item:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--primary)}.vocab-actions{position:absolute;top:.5rem;right:.5rem;display:flex;gap:.25rem;opacity:0;transition:opacity .2s}.vocab-item:hover .vocab-actions{opacity:1}.vocab-actions button{padding:.2rem .4rem;font-size:.75rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:4px;cursor:pointer}.vocab-actions button.delete{color:#ef4444}.vocab-actions button:hover:not(:disabled){border-color:var(--primary);color:var(--primary)}.vocab-item input.word{font-size:1.5rem;font-weight:700;border:none;background:transparent;padding:0;width:100%}.vocab-item input.pinyin{font-size:1rem;color:var(--primary);border:none;background:transparent;padding:0;width:100%}.vocab-item textarea.definition{font-size:.9rem;color:var(--text-muted);border:1px solid transparent;background:transparent;padding:.5rem;margin-left:-.5rem;width:calc(100% + 1rem);resize:none;border-radius:4px}.vocab-item textarea.definition:focus{background:var(--bg-card);border-color:var(--border-color);outline:none}.vocab-item input:focus{outline:none;color:var(--primary)}.actions,.save-actions{margin-top:2rem;display:flex;justify-content:flex-end;align-items:center;gap:1rem;padding:1rem;border-top:1px solid #eee}.saved-tip{color:#2e7d32;font-weight:500;animation:fadeIn .3s ease-out}@keyframes fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.error{color:#ef4444;font-size:.85rem;margin-top:.5rem}@media(max-width:1024px){.input-section{grid-template-columns:1fr}}.card-header-row{display:flex;justify-content:space-between;align-items:center}.help-wrapper{position:relative}.help-btn{background:none;border:1px solid var(--border-color);border-radius:50%;width:20px;height:20px;font-size:12px;color:var(--text-muted);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:all .2s}.help-btn:hover,.help-btn.active{color:var(--primary);border-color:var(--primary);background:#6366f10d}.help-dialog{position:absolute;top:100%;right:0;margin-top:8px;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:1rem;width:280px;box-shadow:var(--shadow-lg);z-index:100;font-size:.85rem;text-align:left;color:var(--text-main)}.help-dialog h5{margin:0 0 .5rem;font-size:.9rem;color:var(--primary)}.help-dialog ul{margin:0;padding-left:1rem}.help-dialog li{margin-bottom:.5rem}.help-dialog code{background:#0000000d;padding:2px 4px;border-radius:3px;font-family:monospace;color:#d63384}.help-overlay{position:fixed;inset:0;z-index:99;cursor:default}.workbook-generator{display:flex;flex-direction:column;gap:2rem}.config-header h2{margin:0;cursor:pointer;padding:4px 8px;border-radius:4px;transition:background .2s}.config-header h2:hover{background:var(--bg-main)}.edit-icon{font-size:1rem;color:var(--text-muted);margin-left:8px;opacity:0;transition:opacity .2s}.config-header h2:hover .edit-icon{opacity:1}.lesson-editor{display:flex;align-items:center;gap:1.5rem;padding:.5rem 1rem;background:var(--bg-main);border-radius:var(--radius-md);border:1px solid var(--border-color);animation:slideIn .2s ease-out}.lesson-editor label{display:flex;flex-direction:column;gap:4px;font-size:.75rem;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em}.lesson-editor input{width:80px;padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;font-size:1rem;font-weight:500;background:var(--bg-card);color:var(--text-main);transition:all .2s}.lesson-editor input:focus{border-color:var(--primary);box-shadow:0 0 0 3px #6366f11a;outline:none}.lesson-editor .separator{color:var(--border-color);font-weight:300;font-size:1.5rem;align-self:flex-end;margin-bottom:8px}@keyframes slideIn{0%{opacity:0;transform:scale(.98)}to{opacity:1;transform:scale(1)}}.editable-header{cursor:pointer;transition:background .2s;border-radius:4px;padding:2px 4px}.editable-header:hover{background:#0000000d}.editable-header:hover .edit-icon{opacity:1}.selection-grid{display:grid;grid-template-columns:280px 1fr;gap:1.5rem;align-items:start}.config-panel{display:flex;flex-direction:column;gap:1.5rem}.config-section{padding-top:1rem;border-top:1px solid var(--border-color);display:flex;flex-direction:column;gap:.75rem}.config-section:first-of-type{padding-top:0;border-top:none}.config-item{display:flex;flex-direction:column;gap:.5rem}.config-item label{font-size:.85rem;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em}.config-panel .checkbox-label{display:flex;align-items:center;gap:.75rem;font-size:.95rem;cursor:pointer;color:var(--text-main);transition:color .2s}.config-panel .checkbox-label:hover{color:var(--primary)}.config-panel input[type=checkbox]{width:1.1rem;height:1.1rem;cursor:pointer;accent-color:var(--primary)}.config-panel input[type=range]{cursor:pointer;accent-color:var(--primary)}.config-panel select{padding:.5rem;border-radius:var(--radius-md);background:var(--bg-main)}.selection-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.text-btn{background:transparent;border:none;color:var(--primary);font-size:.85rem;font-weight:600;cursor:pointer;padding:.25rem .5rem}.word-chips{display:flex;flex-wrap:wrap;gap:.75rem}.word-chip{background:var(--bg-main);border:1px solid var(--border-color);padding:.75rem 1rem;border-radius:var(--radius-md);cursor:pointer;transition:all .2s;display:flex;flex-direction:column;align-items:center;min-width:80px}.word-chip:hover{border-color:var(--primary);background:#6366f10d}.word-chip.active{background:var(--primary);border-color:var(--primary);color:#fff}.word-chip .word{font-size:1.25rem;font-weight:700}.word-chip .pinyin{font-size:.75rem;opacity:.8}.workbook-preview-container{background:#525659;min-height:100vh;padding:2rem;display:flex;flex-direction:column;align-items:center;gap:2rem}.actions-bar{width:210mm;background:var(--bg-card);padding:1rem 2rem;border-radius:var(--radius-md);display:flex;justify-content:space-between;align-items:center;box-shadow:var(--shadow-md)}.workbook-page{width:210mm;min-height:297mm;background:#fff;padding:20mm;box-shadow:0 0 20px #0000004d;color:#333;display:flex;flex-direction:column}.workbook-header{border-bottom:2px solid #333;padding-bottom:1rem;margin-bottom:2rem}.workbook-header h1{font-size:1.5rem;margin-bottom:1rem;color:#000}.user-info{display:flex;gap:2rem;font-size:.9rem}.workbook-item-row{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px dashed #eee;display:flex;flex-direction:column;gap:.5rem}.workbook-item-row:last-child{border-bottom:none;padding-bottom:0}.word-meta{display:flex;align-items:center;gap:.75rem;font-size:.9rem;color:#666;margin-bottom:.25rem}.word-meta .pinyin{font-weight:600}.stroke-order-container{display:flex;flex-direction:column;gap:.5rem;margin-bottom:.5rem}.stroke-order-item{display:flex;align-items:center;gap:.5rem}.stroke-order-item .char-label{font-size:.8rem;color:#999;min-width:1.5rem}.stroke-series{display:flex;flex-wrap:wrap;gap:2px}.stroke-box{width:30px;height:30px;border:1px solid #eee;background:#fff}.practice-grids{display:flex;gap:0;flex-wrap:wrap}.tianzige-box{width:60px;height:60px}.tianzige-box svg{width:100%;height:100%}.grid-border{fill:none;stroke:#999;stroke-width:1.5}.grid-line,.grid-line-internal{stroke:#ccc;stroke-width:.5}.grid-line-internal.dashed{stroke-dasharray:2 2}.char-text{font-family:KaiTi,Kaiti SC,STKaiti,serif;font-size:70px}.tianzige-box.model .char-text{fill:#000}.tianzige-box.trace .char-text{fill:#ddd}@media print{*{background:transparent!important;box-shadow:none!important;text-shadow:none!important}.no-print{display:none!important}body,html{background:#fff!important;height:auto!important;min-height:auto!important;margin:0!important;padding:0!important}.app-container,.main-content,main{display:block!important;padding:0!important;margin:0!important;background:#fff!important}.sidebar{display:none!important}.workbook-preview-container{background:#fff!important;padding:0!important;margin:0!important;width:100%!important;min-height:auto!important;display:block!important}.workbook-page{box-shadow:none!important;margin:0!important;width:100%!important;min-height:auto!important;padding:10mm!important;background:#fff!important}.workbook-header{background:#fff!important}}.assignment-creator{padding:24px;max-width:800px;margin:0 auto;box-sizing:border-box;background-color:#fff}.header{margin-bottom:32px}.subtitle{color:#666;margin-top:8px}.highlight{color:#2c3e50;font-weight:600;background:#e8f4fc;padding:2px 6px;border-radius:4px}.controls{background:#f8f9fa;padding:24px;border-radius:12px;margin-bottom:32px;border:1px solid #e9ecef}.input-group{display:flex;flex-direction:column;gap:8px;margin-bottom:16px;flex:1}.input-group label{font-size:.9em;font-weight:500;color:#495057}.input-group textarea,.input-group input[type=number]{padding:10px;border:1px solid #ced4da;border-radius:6px;font-family:inherit}.input-group textarea:focus,.input-group input:focus{outline:none;border-color:#4dabf7;box-shadow:0 0 0 2px #4dabf733}.row{display:flex;gap:24px}.generate-btn{width:100%;padding:12px;background:#228be6;color:#fff;border:none;border-radius:6px;font-size:1em;font-weight:600;cursor:pointer;transition:background .2s;margin-top:16px}.generate-btn:hover{background:#1c7ed6}.generate-btn:disabled{background:#adb5bd;cursor:not-allowed}.advanced-prompt-section{margin-top:16px;border-top:1px dashed #ced4da;padding-top:16px}.text-btn{background:none;border:none;color:#228be6;font-size:.85em;font-weight:500;cursor:pointer;padding:0;margin-bottom:8px;text-decoration:underline}.text-btn:hover{color:#1c7ed6}.prompt-textarea{width:100%;font-family:Courier New,Courier,monospace;font-size:.85em;padding:12px;border:1px solid #ced4da;border-radius:6px;margin-top:8px;box-sizing:border-box;background:#fff}.prompt-editor-container .hint{font-size:.8em;color:#868e96;margin-top:4px}.generation-progress{display:flex;align-items:center;gap:12px;margin-top:12px;padding:10px 12px;background:#f8f9fa;border-radius:6px;border:1px solid #e9ecef;color:#495057;font-size:.9rem}.spinner-small{width:16px;height:16px;border:2px solid #dee2e6;border-top:2px solid #228be6;border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.prompt-loading-modal{position:absolute;inset:0;background:#ffffffb3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;border-radius:12px}.prompt-loading-modal .spinner{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:12px}.prompt-loading-modal span{color:#2c3e50;font-weight:500;font-size:1.1rem}.error{margin-top:12px;color:#e03131;font-size:.9em;background:#fff5f5;padding:8px;border-radius:4px;border:1px solid #ffc9c9}.results-preview{border:1px solid #e9ecef;border-radius:12px;overflow:hidden}.results-header{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.results-title{display:flex;align-items:center;gap:20px}.zh-count-control{display:flex;align-items:center;gap:8px;font-size:.9em;color:var(--text-muted)}.zh-count-control input{width:60px!important;padding:4px 8px!important;font-size:.9rem!important;border-radius:4px!important}.show-answers-toggle{display:flex;align-items:center;gap:8px;font-size:.9em;color:#495057;cursor:pointer;-webkit-user-select:none;user-select:none;padding:6px 12px;background:#e9ecef;border-radius:6px;transition:background .2s}.show-answers-toggle:hover{background:#dee2e6}.show-answers-toggle input{margin:0;cursor:pointer}.copy-action-wrapper{display:flex;align-items:center;gap:12px}.copy-tip{font-family:var(--font-inter);font-size:.85rem;color:var(--secondary);font-weight:600;animation:fadeInOut 2s ease-in-out}@keyframes fadeInOut{0%{opacity:0;transform:translate(5px)}10%{opacity:1;transform:translate(0)}80%{opacity:1}to{opacity:0}}.results-header h3{margin:0;font-size:1.1em}.preview-content{padding:24px;background:#fff;font-family:Times New Roman,serif}.preview-item{margin-bottom:20px;line-height:1.6}.question{font-size:1.1em;margin-bottom:4px}.number{font-weight:700;margin-right:8px}.answer{color:#666;font-size:.95em;margin-left:24px;font-style:italic}.sidebar{width:280px;background:var(--bg-card);border-right:1px solid var(--border-color);padding:1.5rem .5rem;display:flex;flex-direction:column;gap:1.5rem;height:100%;overflow-y:auto;box-sizing:border-box;flex-shrink:0}.sidebar-title{font-size:1.25rem;color:var(--primary);margin:0 .5rem .5rem;display:flex;align-items:center;gap:.5rem;font-weight:700}.sidebar-title:before{content:"üìö"}.tree-view{display:flex;flex-direction:column;gap:.5rem}.tree-view h2{font-size:.85rem;text-transform:uppercase;color:var(--text-muted);letter-spacing:.05em;padding:0 .5rem;margin-bottom:1rem}.hsk-node{display:flex;flex-direction:column}.node-header{display:flex;align-items:center;gap:.5rem;padding:.6rem .8rem;border-radius:var(--radius-md);cursor:pointer;font-weight:600;color:var(--text-main);transition:background .2s}.node-header:hover{background:var(--bg-main)}.node-header .arrow{font-size:.7rem;transition:transform .2s}.node-header.expanded .arrow{transform:rotate(90deg)}.lesson-nodes{display:flex;flex-direction:column;margin-left:1.5rem;margin-top:.25rem;border-left:1px solid var(--border-color)}.lesson-node{padding:.5rem 1rem;font-size:.9rem;color:var(--text-muted);cursor:pointer;border-radius:0 var(--radius-md) var(--radius-md) 0;transition:all .2s}.lesson-node:hover{color:var(--primary);background:#6366f10d}.lesson-node.active{color:var(--primary);background:#6366f11a;font-weight:600}@media(max-width:768px){.sidebar{width:100%;height:auto;position:static;border-right:none;border-bottom:1px solid var(--border-color);padding:1rem}}.tree-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.tree-header h2{margin-bottom:0}.add-btn{padding:.2rem .5rem;font-size:1.2rem;background:transparent;color:var(--primary);border:none;cursor:pointer;border-radius:var(--radius-sm)}.add-btn:hover{background:var(--bg-main)}.action-input-row{display:flex;gap:.25rem;padding:.5rem;margin-bottom:.5rem}.action-input-row input{flex:1;padding:.4rem;font-size:.85rem}.action-input-row button{padding:.4rem .6rem;font-size:.85rem}.node-wrapper{display:flex;justify-content:space-between;align-items:center}.node-wrapper .node-header{flex:1}.node-actions{display:none;gap:.25rem;padding-right:.5rem}.node-wrapper:hover .node-actions{display:flex}.action-icon{background:transparent;border:none;cursor:pointer;font-size:.8rem;color:var(--text-muted);padding:.25rem;border-radius:var(--radius-sm)}.action-icon:hover{background:var(--bg-main);color:var(--primary)}.action-icon.delete:hover{color:#ef4444}.inline-edit{display:flex;gap:.25rem;flex:1;align-items:center}.inline-edit input{flex:1;padding:.2rem .4rem;font-size:.85rem}.inline-edit button{padding:.2rem .4rem;font-size:.75rem}
